<app-page-title [options]="pageTitleOptions()"/>
<app-navigation-back/>
<div class="container">
    @if (xorIsLoading()) {
        <app-loader id="loading" [message]="'Loading Neural Network...'"/>
    } @else {
        <div id="app">
            <!-- Interactive Predictor -->
            <div class="card">
                <div class="card-title">‚ö° Interactive Predictor</div>
                <div class="predictor">
                    <div class="input-group">
                        <div class="input-label">Input A</div>
                        <button id="inputA" class="toggle-btn" (click)="toggleInput('A')">0</button>
                    </div>
                    <div class="operator">‚äï</div>
                    <div class="input-group">
                        <div class="input-label">Input B</div>
                        <button id="inputB" class="toggle-btn" (click)="toggleInput('B')">0</button>
                    </div>
                    <div class="operator">=</div>
                    <div class="result-box">
                        <div id="result" class="result-value">0</div>
                        <div id="confidence" class="result-confidence">99.0% confidence</div>
                    </div>
                </div>
            </div>
    
            <!-- Network Visualization -->
            <div class="card">
                <div class="card-title">üî¨ Network Visualization</div>
                <svg id="networkViz" width="100%" height="300" viewBox="0 0 500 280"></svg>
                <div id="activationDetails" style="margin-top: 1rem; font-size: 0.8rem; color: var(--muted);"></div>
            </div>
    
            <!-- Truth Table -->
            <div class="card">
                <div class="card-title">üìä XOR Truth Table</div>
                <table class="truth-table">
                    <thead>
                        <tr>
                            <th>A</th>
                            <th>B</th>
                            <th>Expected</th>
                            <th>Prediction</th>
                            <th>Confidence</th>
                        </tr>
                    </thead>
                    <tbody id="truthTable">
                        <!-- Filled by JavaScript -->
                    </tbody>
                </table>
            </div>
    
            <!-- Model Info -->
            <div class="card">
                <div class="card-title">üîß Model Information</div>
                <div class="model-info">
                    <div class="info-item">
                        <div class="info-value" id="architecture">2 ‚Üí 8 ‚Üí 1</div>
                        <div class="info-label">Architecture</div>
                    </div>
                    <div class="info-item">
                        <div class="info-value">Tanh ‚Üí Sigmoid</div>
                        <div class="info-label">Activations</div>
                    </div>
                    <div class="info-item">
                        <div class="info-value" id="accuracy">100%</div>
                        <div class="info-label">Accuracy</div>
                    </div>
                    <div class="info-item">
                        <div class="info-value">WASM</div>
                        <div class="info-label">Runtime</div>
                    </div>
                </div>
            </div>
        </div>
        <div id="error" class="card error" style="display: none;">
            <p>‚ùå Failed to load Neural Network</p>
            <p id="errorMsg"></p>
        </div>

    }

</div>
<footer></footer>
